<!doctype html>


    <!--                             kalt.co                                -->


    <!--                                (                                   -->
    <!--                    .            )        )                         -->
    <!--                              (  (|              .                  -->
    <!--                         )   )\/ ( ( (                              -->
    <!--                 *  (   ((  /     ))\))  (  )    )                  -->
    <!--               (     \   )\(          |  ))( )  (|                  -->
    <!--               >)     ))/   |          )/  \((  ) \                 -->


<html lang="en">
  <head>
    <!-- Setting the title -->
    <title> Kalt — Investments</title>
		<!-- prefetching from the cdn -->
		<link rel="preload" href="https://kalt.co/css/base.css" as="style">
		<link rel="preload" href="https://cdn.kalt.co/js/lib/jq.js" as="script">
		<link rel="preconnect" href="https://cdn.kalt.co">
    <!-- Including the base stylesheet -->
    <link rel="stylesheet" href="https://kalt.co/css/base.css">
    <!-- Defining the character set used -->
    <meta charset="UTF-8">
    <!-- Setting the viewport to make your website look good on all devices: -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Asking search engines not to index the website: -->
    <meta name=”robots” content=”noindex”>
    <!-- Adding description -->
		<meta name="description" content="Carefully curated art">
		<!-- Adding theme color -->
		<meta name="theme-color" content="#FCF9F2"/>
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.kalt.co/media/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://cdn.kalt.co/media/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://cdn.kalt.co/media/favicon/favicon-16x16.png">
  </head>
  <body>
    <header>
			<a href="/">
	      <button class="logo"><span>Kalt</span> — Investments</button>
			</a>
      <nav class="menu">
        <button class="menu">
          menu
        </button>
        <ul>
        </ul>
      </nav>
    </header>

    <!--
      Start the homepage
    -->
    <div class="page">
      <div class="section" id="feature">
				<p>The current value of the capital reserve:</p></br>
				<span id="value" style="font-size:200%;" data-value="0">1,600 $</span>
			</div>
      <div class="section">
				<div class="block" id="stocks">
					<h2>Public stocks</h2>
	        <p>
						<ul>
						</ul>
	        </p>
	        <p>
						Monolithic global companies such as Facebook, Instagram and YouTube are slowly getting strangled by smaller players. We are currently invested in:
						<ul>
							<li>Twitter</li>
							<li>Reddit</li>
							<li>Discord</li>
						</ul>
	        </p>
				</div>
			</div>
      <div class="section">
				<div class="block" id="stocks">
					<h2>Crypto</h2>
	        <p>
						The crypto 100 fund aims to be an index fund covering the top 100 crypto currencies with a market cap over 1bln usd. The fund is rebalanced every quarter, and 4% of the profits are paid out annually as dividents. The fund does not hold any stablecoins.
	        </p>
				</div>
			</div>
      <div class="section">
				<div class="block" id="stocks">
					<h2>Artworks</h2>
	        <p>
	          Art is one of the few platforms that give voice to minorities. <a href="https://kalt.co/art">See all our artworks</a>
	        </p>
				</div>
			</div>
      <div class="section">
				<div class="block" id="stocks">
					<h2>Venture capital</h2>
	        <p>
	         	When the right company is raising capital we might consider investing in them.
						<ul>
							<li>Tillit</li>
						</ul>
	        </p>
				</div>
			</div>
    </div>
    <!-- Including jquery -->
    <script src="https://cdn.kalt.co/js/lib/jq.js"></script>
		<script>

		function numberWithCommas(x) {
	    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
		}
		function animateValue(obj, start, end, duration) {
		  let startTimestamp = null;
		  const step = (timestamp) => {
		    if (!startTimestamp) startTimestamp = timestamp;
		    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
		    obj.innerHTML = numberWithCommas(Math.round(progress * (end - start) + start))+" $";
		    if (progress < 1) {
		      window.requestAnimationFrame(step);
		    }
		  };
		  window.requestAnimationFrame(step);
		}
		const api_key = 'POCPZTWH5TSPCI7D';
		//const api_key = 'demo';
		// Array as table
		const holdings = [
			["TSLA", 1000, "stock"],
			["MSFT", 25, "stock"],
			["AAPL", 199, "stock"],
		];
		// Loop through holdings array
		for(var i = 0; i < holdings.length; i++) {
				const item = holdings[i];
				var symbol = item[0];

				var uri = 'https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=' + symbol + '&interval=1min&apikey=' + api_key;

				fetch(uri)
					.then(response => response.json())
					.then(data => {
						var json = data["Time Series (1min)"];
						// Select the last entry in the json response from alpha advantage
						var last_entry = json[ Object.keys(json).sort().pop() ];
						// Select the closing price
						var last_price = last_entry["4. close"];
						// Multiply by the ammount of shares with the price of one share
						var position = last_price*item[1];
						var obj = document.getElementById("value");
						// Get HTML content
						var html = parseInt(obj.innerHTML.replace(",","").replace(" $",""));
						var result = Math.round(html+position);
						obj.innerHTML = numberWithCommas(result+" $");
					});
			};
		</script>
  </body>

</html>
